zone "<%= @name %>" {
    type slave;

    file "<%= @database %>";

    <%- if @masters -%>
    masters { <%= scope.function_coalesce_array([ @masters ]) %> }
    <%- end -%>

    <%- if @allow_transfer -%>
    allow-transfer { <%= scope.function_coalesce_array([ @allow_transfer, 'none' ]) %> }
    <%- end -%>

    <%- if @allow_notify -%>
    allow-notify { <%= scope.function_coalesce_array([ @allow_notify, 'none' ]) %> }
    <%- end -%>

    <%- if @allow_update -%>
    allow-update { <%= scope.function_coalesce_array([ @allow_update, 'none' ]) %> }
    <%- end -%>

    <%- if @forward_policy and @forwarders -%>
    forward <%= @forward_policy %>;
    forwarders { <%= scope.function_coalesce_array([ @forwarders ]) %> };
    <%- end -%>
};
